# 数据库系统概念学习笔记
## 关系数据库
### 结构
- **关系数据库**是由**表**构成的，每个表有**惟一**的名字。
- **关系**relation是指代table
- **元组**tuple指代行
- **属性**attribute指代列
- 对于关系的每一个属性，都存在一个取值范围，称为属性的域domain

- - -


### 模式(schema)
- **数据库模式**(database schema)：数据库的逻辑设计
- **数据库实例**(database instance)：给定时刻数据库中数据的一个快照
- 在关系模式中用相同的属性正是将不同关系的元组联系起来的一种方法
### 码
- **超码**(superkey)：一个或多个属性的集合，可以使在一个关系中**唯一**的确定一个元组
- **候选码**(candidate key)：最小超码
- **主码**(primary key)：被设计者选中用于在一个关系中区分不同元组的候选码
- **外码**(foreign key)：一个关系模式的属性中包括另外一个关系模式中的主码，这个属性就是在该属性参照另外一个属性的外码
- **参照完整性**要求关系中不允许引用不存在的实体
- **实体完整性**要求每一个表中的主键字段都不能为空或者重复的值
- **参照完整性约束**要求在参照关系中任意元祖在特定属性上的取值必然等于被参照关系中某个元祖在特定属性上的取值。
- 参照完整性是用于约定两个关系之间的联系，理论上规定：若M是关系S中的一属性组，且M是另一关系Z的主关键字，则称M为关系S对应关系Z的外关键字。若M是关系S的外关键字，则S中每一个元组在M上的值必须是空值或是对应关系Z中某个元组的主关键字值。例如，学生关系S和学校专业关系Z之间满足参照完整性约束。学校专业关系Z中的专业号属性是主关键字，同时它也存在学生关系S中，那么只有当专业号存在，这个专业的学生才有可能存在，因此在添加学生关系中的元组时，定义的专业号必须在学校专业关系Z中已存在对应的元组。

- - -

### 模式图
模式图主要体现了外键依赖，并没有体现出参照完整性约束。
例如：
![模式图](http://images2015.cnblogs.com/blog/672326/201605/672326-20160525063017647-223924457.png)
- - -
## SQL查询语言
### 基本类型
- **char(n)**:固定长度为n的字符串
- **varchar(n)**:可变长度的字符串，n为最大长度
- **int**： 整数类型
- **smallint**：小整数类型
- **numeric(p,d)**:定点数，p代表小数点左边位数包括小数点，d代表小数点右边位数
- **real，double precision**:浮点数和双精度浮点数
- **float(n)**:精度至少为n位的浮点数

- - -
### sql基本结构
```sql
select A1, A2, A3...
from r1, r2, r3...
where P;
```


